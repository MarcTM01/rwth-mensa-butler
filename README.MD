# RWTH Mensa Buttler: A inofficial alexa skill for the canteens of RWTH Aachen University
Have you ever wanted to check the menu at the canteens of RWTH Aachen University without getting out of bed? 
Then this is the solution for you!

**RWTH Mensa Buttler is an Amazon Alexa Skill that provides you with the menu of all mensas of RWTH Aachen University.**
> [!WARNING]
> I created this skill for my personal use and education as a hobby side-project. I'm not taking any responsibility for the correctness of the data provided by this skill.
> This software is also in no way affiliated with the Studierendenwerk Aachen, the operator of the canteens of RWTH Aachen University.
> While the Studierendenwerk Aachen graciously granted me permission to automatically crawl their website for the menu data,
> they are not responsible for this software.
> The Studierendenwerk Aachen does not endorse this software and is not responsible for any issues that may arise from its use.
> Menu data provided by this skill may be incorrect, incomplete or out of date.
> The Studierendenwerk Aachen will not answer any queries regarding this software.

## :rocket: Sounds great! How do I use it?
Currently, the skill is in beta testing and not (yet) publicly available on the Alexa Skill Store.
If you want to test the skill, please contact [me](mailto:marc@MarcTM01.dev) with the email address of your amazon account and I will add you to the beta testers.

## :dart: Features
- [X] Architecture diagram SVG supports automated color-inversion for dark mode users
- [X] Multi-Language Support ( :uk:, :de: )
- [X] Get the menu for any mensa of RWTH Aachen University for specific days, including past days

> User:&nbsp;Alexa, ask RWTH Mensa what's on the menu at mensa vita next monday
>
> Alexa:&nbsp; The vegetarian dish has Cauliflower nuggets with Aioli. The classical dish (...). As a side dish, you can choose from: (...). Additionally, there are 4 other dishes to choose from: (...).

- [X] Get probable reasons for data being unavailable
> User:&nbsp;Alexa, ask RWTH Mensa what's on the menu at mensa academica on 2024-05-30
>
> Alexa:&nbsp;I'm sorry, I don't have any menu data for Mensa Academica at 2024-05-30. But this is not surprising as 2024-05-30 is a public holiday in northrhine westphalia.

- [X] Get all vegetarian or vegan dishes for a specific day
> User:&nbsp;Alexa, ask RWTH Mensa what vegetarian dishes are offered at mensa ahornstraße next thursday
>
> Alexa:&nbsp;There are 2 vegetarian dishes to choose from at Mensa Ahornstraße: The vegetarian table dish has (...). The vegetarian dish has (...).

- [X] Inquire about specific dish types (Supported: Classical dish, Table dish, Pizza, Burger, Wok, Pasta)
> User:&nbsp;Alexa, ask RWTH Mensa what burgers are offered at mensa academica next thursday
>
> Alexa:&nbsp;There are 3 Burger to choose from at Mensa Academica: The classical burger is (...).

- [ ] Get a list of all mensas (`Which mensas are there?`)
- [ ] (Maybe) Get prices for specific dishes (`How much does the pizza at mensa academica cost?`)
- [ ] (Maybe) Get the opening hours of a mensa (`When does mensa academica close today?`)

## :gear: Architecture
The entire skill is hosted on AWS. All parts of the skill are serverless and their source code is contained in this repository. This way I do not need to pay anything to maintain this skill.
The following diagram shows the architecture of the skill:

![Architecture diagram](docs/architecture/architecture.svg)

*FYI: I injected some fancy CSS into the SVG generated by draw.io to ensure that it looks good in dark mode and light mode. What a time to be alive!*

### Design decisions
**Q:** Why does the skill lambda directly access the database instead of using an API Gateway?

**A:** Amazon does not charge for invocations of the skill lambda. 
However, they do charge for invocations of any other lambda or usage of an API Gateway (beyond the 12-month free tier).
I want to avoid any case where a user-made request would result in a charge for me as this could easily be abused by a malicious user.
Accessing the database directly does not incur any cost as the always-free tier of AWS includes sufficient reserved capacity units for this skill.


**Q:** Why are the different components of the skill written in different languages?

**A:** The scrapper is written in go primarily because I wanted to learn go.
At the time of creation, amazon does not support the creation of alexa-hosted skills in go. Therefore, I went with python for the skill lambda.